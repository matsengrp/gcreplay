manifest {
    description = 'gcreplay analysis workflow'
    nextflowVersion = '>= 20.07.0'
}

// PIPELINE KNOBS
params{
    foo = false
}

profiles {
    
    standard {}
   
    docker {
        docker.enabled = true
    }

    cluster {

        singularity {
            enabled = true
            autoMounts = true
            cacheDir = 'singularity_cache' 
            runOptions = '--contain -W /tmp/'
        }

        process {
            executor = 'slurm'
            queue = 'campus-new'
            cpus = 1
            memory = 16.GB
            time = '1h'
            clusterOptions = '-A matsen_e'
            withLabel: mem_large { memory = 48.GB }
            withLabel: mem_xlarge { memory = 64.GB }
        }
    }
}
